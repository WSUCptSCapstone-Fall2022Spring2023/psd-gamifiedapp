threatSize = 0
threatEnergy = 0
shieldColor = ""

testCases = [
[11,6,"blue"],
[11,5,"blue"],
[11,4,"blue"],
[10,6,"green"],
[10,5,"white"],
[10,4,"white"],
[9,6,"green"],
[9,5,"white"],
[9,4,"white"],
[11,3,"blue"],
[10,2,"white"],
[1,6,"green"],
[1,2,"magenta"],
[1,1,"magenta"],
]

def simulate():
	global threatSize
	global threatEnergy
	global shieldColor

	threatEnergy = testCases[0][0]
	threatSize = testCases[0][1]

	parent.push_user_scope()

	correct = testCases[0][2]
	testCases.pop(0)

	try:
    		parent.execute_user_code()
	except Exception as e: 
		if "unexpected token 'elif'" in repr(e):
			parent.end_simulation(2)
		else:
    			parent.end_simulation(-1,repr(e))
		return
	
	parent.pull_user_scope()

	if shieldColor != correct:
		parent.end_simulation(1)
		return

	if len(testCases) == 0:
		parent.end_simulation(0)

def simulate_tick():
	return 0